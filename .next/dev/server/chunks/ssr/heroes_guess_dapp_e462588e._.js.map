{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/than/heroes_guess_dapp/components/Wallet-connect.tsx"],"sourcesContent":["\"use client\"\n\nimport { ConnectButton } from \"@iota/dapp-kit\"\n\nexport function WalletConnect() {\n  return (\n    <div style={{ padding: \"1rem\", display: \"flex\", justifyContent: \"flex-end\" }}>\n      <ConnectButton />\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS;IACd,qBACE,mQAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,SAAS;YAAQ,gBAAgB;QAAW;kBACzE,cAAA,mQAAC,mMAAa;;;;;;;;;;AAGpB"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///home/than/heroes_guess_dapp/hooks/useContract.ts"],"sourcesContent":["\"use client\"\n\n/**\n * IOTA CONTRACT INTEGRATION HOOK\n */\n\nimport { useState, useEffect } from \"react\"\nimport {\n  useCurrentAccount,\n  useIotaClient,\n  useSignAndExecuteTransaction,\n  useIotaClientQuery,\n} from \"@iota/dapp-kit\"\nimport { Transaction } from \"@iota/iota-sdk/transactions\"\nimport { useNetworkVariable } from \"@/lib/config\"\nimport type { IotaObjectData } from \"@iota/iota-sdk/client\"\n\n// CONTRACT CONFIG\nexport const CONTRACT_MODULE = \"contract\"\nexport const CONTRACT_METHODS = {\n  CREATE: \"create\",\n  INCREMENT: \"increment\",\n  SET_VALUE: \"set_value\",\n} as const\n\n// Extract fields robustly\nfunction getObjectFields(data: IotaObjectData): { value: number; owner: string } | null {\n  if (!data) return null\n  if (data.content?.dataType !== \"moveObject\") {\n    console.log(\"Data is not a moveObject:\", data.content?.dataType)\n    return null\n  }\n\n  const fields = (data.content as any).fields\n  if (!fields) {\n    console.log(\"No fields found in object data\")\n    return null\n  }\n\n  // Log to help debugging\n  // console.log(\"Object fields structure:\", JSON.stringify(fields, null, 2))\n\n  // value may be string (u64) or number\n  let value: number\n  if (typeof fields.value === \"string\") {\n    value = parseInt(fields.value, 10)\n    if (isNaN(value)) {\n      console.log(\"Value is not a valid number:\", fields.value)\n      return null\n    }\n  } else if (typeof fields.value === \"number\") {\n    value = fields.value\n  } else if (fields.value && typeof fields.value === \"object\" && typeof fields.value.fields === \"object\" && typeof fields.value.fields.value !== \"undefined\") {\n    // handle nested shape if any\n    const maybe = fields.value.fields.value\n    value = typeof maybe === \"string\" ? parseInt(maybe, 10) : Number(maybe)\n    if (isNaN(value)) return null\n  } else {\n    console.log(\"Value is not a number or string:\", typeof fields.value, fields.value)\n    return null\n  }\n\n  if (!fields.owner && fields.owner !== 0) {\n    console.log(\"Owner field is missing\")\n    return null\n  }\n\n  const owner = String(fields.owner)\n\n  return { value, owner }\n}\n\n// Hook interfaces\nexport interface ContractData {\n  value: number\n  owner: string\n}\n\nexport interface ContractState {\n  isLoading: boolean\n  isPending: boolean\n  isConfirming: boolean\n  isConfirmed: boolean\n  hash: string | undefined\n  error: Error | null\n}\n\nexport interface ContractActions {\n  createObject: () => Promise<void>\n  increment: () => Promise<void>\n  reset: () => Promise<void>\n  setValue: (value: number) => Promise<void>\n  clearObject: () => void\n}\n\nexport const useContract = () => {\n  const currentAccount = useCurrentAccount()\n  const address = currentAccount?.address\n  const packageId = useNetworkVariable(\"packageId\")\n  const iotaClient = useIotaClient()\n  const { mutate: signAndExecute, isPending } = useSignAndExecuteTransaction()\n  const [objectId, setObjectId] = useState<string | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [hash, setHash] = useState<string | undefined>()\n  const [transactionError, setTransactionError] = useState<Error | null>(null)\n\n  // load objectId from location.hash\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      const h = window.location.hash.slice(1)\n      if (h) setObjectId(h)\n    }\n  }, [])\n\n  // Query the object only when we have objectId\n  const queryEnabled = !!objectId\n  const { data: queryResponse, isPending: isFetching, error: queryError, refetch } = useIotaClientQuery(\n    \"getObject\",\n    // pass params only when enabled to avoid passing undefined id\n    queryEnabled ? { id: objectId!, options: { showContent: true, showOwner: true } } : undefined,\n    { enabled: queryEnabled }\n  )\n\n  // Normalize the returned object data (robust to shapes)\n  const rawObject: any = queryResponse?.data ?? queryResponse ?? null\n  const fields = rawObject ? getObjectFields(rawObject) : null\n  const contractData: ContractData | null = fields ? { value: fields.value, owner: fields.owner } : null\n  const isOwner = !!(fields && address && fields.owner.toLowerCase() === address.toLowerCase())\n\n  const objectExists = !!rawObject\n  const hasValidData = !!fields\n\n  // create object\n  const createObject = async () => {\n    if (!packageId) {\n      setTransactionError(new Error(\"packageId not configured\"))\n      return\n    }\n\n    try {\n      setIsLoading(true)\n      setTransactionError(null)\n      setHash(undefined)\n      const tx = new Transaction()\n      tx.moveCall({\n        arguments: [],\n        target: `${packageId}::${CONTRACT_MODULE}::${CONTRACT_METHODS.CREATE}`,\n      })\n\n      signAndExecute(\n        { transaction: tx },\n        {\n          onSuccess: async ({ digest }) => {\n            setHash(digest)\n            try {\n              const { effects } = await iotaClient.waitForTransaction({\n                digest,\n                options: { showEffects: true },\n              })\n              const newObjectId = effects?.created?.[0]?.reference?.objectId\n              if (newObjectId) {\n                setObjectId(newObjectId)\n                if (typeof window !== \"undefined\") {\n                  window.location.hash = newObjectId\n                }\n              } else {\n                console.warn(\"No object ID found in transaction effects\")\n              }\n            } catch (waitError) {\n              console.error(\"Error waiting for transaction:\", waitError)\n              setTransactionError(waitError instanceof Error ? waitError : new Error(String(waitError)))\n            } finally {\n              setIsLoading(false)\n            }\n          },\n          onError: (err) => {\n            const error = err instanceof Error ? err : new Error(String(err))\n            setTransactionError(error)\n            console.error(\"Error:\", err)\n            setIsLoading(false)\n          },\n        }\n      )\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error(String(err))\n      setTransactionError(error)\n      console.error(\"Error creating object:\", err)\n      setIsLoading(false)\n    }\n  }\n\n  // increment\n  const increment = async () => {\n    if (!objectId || !packageId) {\n      setTransactionError(new Error(\"Missing objectId or packageId\"))\n      return\n    }\n\n    try {\n      setIsLoading(true)\n      setTransactionError(null)\n      const tx = new Transaction()\n      tx.moveCall({\n        arguments: [tx.object(objectId)],\n        target: `${packageId}::${CONTRACT_MODULE}::${CONTRACT_METHODS.INCREMENT}`,\n      })\n\n      signAndExecute(\n        { transaction: tx },\n        {\n          onSuccess: async ({ digest }) => {\n            setHash(digest)\n            try {\n              await iotaClient.waitForTransaction({ digest })\n              if (refetch) await refetch()\n            } catch (e) {\n              console.error(\"Wait or refetch failed:\", e)\n            } finally {\n              setIsLoading(false)\n            }\n          },\n          onError: (err) => {\n            const error = err instanceof Error ? err : new Error(String(err))\n            setTransactionError(error)\n            console.error(\"Error:\", err)\n            setIsLoading(false)\n          },\n        }\n      )\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error(String(err))\n      setTransactionError(error)\n      console.error(\"Error incrementing:\", err)\n      setIsLoading(false)\n    }\n  }\n\n  // reset (set to 0)\n  const reset = async () => {\n    await setValue(0)\n  }\n\n  // set value\n  const setValue = async (value: number) => {\n    if (!objectId || !packageId) {\n      setTransactionError(new Error(\"Missing objectId or packageId\"))\n      return\n    }\n\n    try {\n      setIsLoading(true)\n      setTransactionError(null)\n      const tx = new Transaction()\n      tx.moveCall({\n        arguments: [tx.object(objectId), tx.pure.u64(value)],\n        target: `${packageId}::${CONTRACT_MODULE}::${CONTRACT_METHODS.SET_VALUE}`,\n      })\n\n      signAndExecute(\n        { transaction: tx },\n        {\n          onSuccess: async ({ digest }) => {\n            setHash(digest)\n            try {\n              await iotaClient.waitForTransaction({ digest })\n              if (refetch) await refetch()\n            } catch (e) {\n              console.error(\"Wait/refetch failed:\", e)\n            } finally {\n              setIsLoading(false)\n            }\n          },\n          onError: (err) => {\n            const error = err instanceof Error ? err : new Error(String(err))\n            setTransactionError(error)\n            console.error(\"Error:\", err)\n            setIsLoading(false)\n          },\n        }\n      )\n    } catch (err) {\n      const error = err instanceof Error ? err : new Error(String(err))\n      setTransactionError(error)\n      console.error(\"Error setting value:\", err)\n      setIsLoading(false)\n    }\n  }\n\n  const clearObject = () => {\n    setObjectId(null)\n    setTransactionError(null)\n    setHash(undefined)\n    if (typeof window !== \"undefined\") {\n      window.location.hash = \"\"\n    }\n  }\n\n  const actions: ContractActions = {\n    createObject,\n    increment,\n    reset,\n    setValue,\n    clearObject,\n  }\n\n  const contractState: ContractState = {\n    isLoading: (isLoading && !objectId) || isFetching,\n    isPending,\n    isConfirming: false,\n    isConfirmed: !!hash && !isLoading && !isPending,\n    hash,\n    error: queryError || transactionError,\n  }\n\n return {\n  data: contractData,\n  actions: {\n    createObject,\n    increment,\n    reset,\n    setValue,\n    clearObject,\n  },\n  state: {\n    isLoading: (isLoading && !objectId) || isFetching,\n    isPending,\n    isConfirming: false,\n    isConfirmed: !!hash && !isLoading && !isPending,\n    hash,\n    error: queryError || transactionError,\n  },\n  objectId,\n  isOwner,\n  objectExists,\n  hasValidData,\n}\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///home/than/heroes_guess_dapp/lib/champions.ts"],"sourcesContent":["export interface Champion {\n  id: string;\n  name: string;\n  imageUrl: string;\n}\n\n// Using a recent version, you might want to fetch the latest version dynamically in a real app\nconst LATEST_VERSION = \"14.9.1\";\n\nconst getImageUrl = (championId: string) => `https://ddragon.leagueoflegends.com/cdn/${LATEST_VERSION}/img/champion/${championId}.png`;\n\nexport const champions: Champion[] = [\n  { id: \"Aatrox\", name: \"Aatrox\" },\n  { id: \"Ahri\", name: \"Ahri\" },\n  { id: \"Akali\", name: \"Akali\" },\n  { id: \"Yasuo\", name: \"Yasuo\" },\n  { id: \"Zed\", name: \"Zed\" },\n  { id: \"Jinx\", name: \"Jinx\" },\n  { id: \"Lux\", name: \"Lux\" },\n  { id: \"Garen\", name: \"Garen\" },\n  { id: \"Darius\", name: \"Darius\" },\n  { id: \"Fiora\", name: \"Fiora\" },\n  { id: \"Irelia\", name: \"Irelia\" },\n  { id: \"LeeSin\", name: \"Lee Sin\" },\n  { id: \"Teemo\", name: \"Teemo\" },\n  { id: \"Vayne\", name: \"Vayne\" },\n  { id: \"Caitlyn\", name: \"Caitlyn\" },\n  { id: \"Ezreal\", name: \"Ezreal\" },\n  { id: \"Thresh\", name: \"Thresh\" },\n  { id: \"Blitzcrank\", name: \"Blitzcrank\" },\n  { id: \"Katarina\", name: \"Katarina\" },\n  { id: \"Riven\", name: \"Riven\" },\n].map(c => ({ ...c, imageUrl: getImageUrl(c.id) }));\n"],"names":[],"mappings":";;;;AAMA,+FAA+F;AAC/F,MAAM,iBAAiB;AAEvB,MAAM,cAAc,CAAC,aAAuB,CAAC,wCAAwC,EAAE,eAAe,cAAc,EAAE,WAAW,IAAI,CAAC;AAE/H,MAAM,YAAwB;IACnC;QAAE,IAAI;QAAU,MAAM;IAAS;IAC/B;QAAE,IAAI;QAAQ,MAAM;IAAO;IAC3B;QAAE,IAAI;QAAS,MAAM;IAAQ;IAC7B;QAAE,IAAI;QAAS,MAAM;IAAQ;IAC7B;QAAE,IAAI;QAAO,MAAM;IAAM;IACzB;QAAE,IAAI;QAAQ,MAAM;IAAO;IAC3B;QAAE,IAAI;QAAO,MAAM;IAAM;IACzB;QAAE,IAAI;QAAS,MAAM;IAAQ;IAC7B;QAAE,IAAI;QAAU,MAAM;IAAS;IAC/B;QAAE,IAAI;QAAS,MAAM;IAAQ;IAC7B;QAAE,IAAI;QAAU,MAAM;IAAS;IAC/B;QAAE,IAAI;QAAU,MAAM;IAAU;IAChC;QAAE,IAAI;QAAS,MAAM;IAAQ;IAC7B;QAAE,IAAI;QAAS,MAAM;IAAQ;IAC7B;QAAE,IAAI;QAAW,MAAM;IAAU;IACjC;QAAE,IAAI;QAAU,MAAM;IAAS;IAC/B;QAAE,IAAI;QAAU,MAAM;IAAS;IAC/B;QAAE,IAAI;QAAc,MAAM;IAAa;IACvC;QAAE,IAAI;QAAY,MAAM;IAAW;IACnC;QAAE,IAAI;QAAS,MAAM;IAAQ;CAC9B,CAAC,GAAG,CAAC,CAAA,IAAK,CAAC;QAAE,GAAG,CAAC;QAAE,UAAU,YAAY,EAAE,EAAE;IAAE,CAAC"}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":["file:///home/than/heroes_guess_dapp/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { WalletConnect } from \"@/components/Wallet-connect\";\nimport { useState, useEffect } from \"react\";\nimport { useContract } from \"@/hooks/useContract\";\nimport { champions, Champion } from \"@/lib/champions\";\nimport Image from 'next/image';\nimport { useCurrentAccount } from \"@iota/dapp-kit\";\n\nconst LATEST_LOL_VERSION = \"14.9.1\";\n\nexport default function Home() {\n\tconst currentAccount = useCurrentAccount();\n\tconst [isPlaying, setIsPlaying] = useState(false);\n\tconst [score, setScore] = useState(0);\n\tconst [heroToGuess, setHeroToGuess] = useState<Champion | null>(null);\n\tconst [userGuess, setUserGuess] = useState(\"\");\n\tconst [message, setMessage] = useState(\"Press 'Start Game' to begin!\");\n\tconst [shuffledChampions, setShuffledChampions] = useState<Champion[]>([]);\n\tconst [currentIndex, setCurrentIndex] = useState(0);\n\n\tconst { data, actions, state, objectId, objectExists } = useContract();\n\tconst { setValue, createObject, clearObject } = actions;\n\tconst { isPending, isConfirming, isConfirmed, error, isLoading } = state;\n\n\t// Shuffle champions on initial load\n\tuseEffect(() => {\n\t\tsetShuffledChampions([...champions].sort(() => Math.random() - 0.5));\n\t}, []);\n\n\t// Tự động bắt đầu game khi contract object được tạo xong\n\tuseEffect(() => {\n\t\tif (objectExists && objectId && !isPlaying && shuffledChampions.length > 0) {\n\t\t\tconst hasJustCreated = sessionStorage.getItem('pendingGameStart');\n\t\t\tif (hasJustCreated === 'true') {\n\t\t\t\tsessionStorage.removeItem('pendingGameStart');\n\t\t\t\tsetIsPlaying(true);\n\t\t\t\tsetScore(0);\n\t\t\t\tsetUserGuess(\"\");\n\t\t\t\tsetCurrentIndex(0);\n\t\t\t\tsetHeroToGuess(shuffledChampions[0]);\n\t\t\t\tsetMessage(\"Which champion is this?\");\n\t\t\t}\n\t\t}\n\t}, [objectExists, objectId, isPlaying, shuffledChampions]);\n\n\tconst startGame = () => {\n\t\t// Nếu chưa có contract object, tạo mới\n\t\tif (!objectExists) {\n\t\t\tsetMessage(\"Creating contract... Please approve the transaction in your wallet.\");\n\t\t\tsessionStorage.setItem('pendingGameStart', 'true');\n\t\t\tcreateObject();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tsetIsPlaying(true);\n\t\tsetScore(0);\n\t\tsetUserGuess(\"\");\n\t\tsetCurrentIndex(0);\n\t\tsetHeroToGuess(shuffledChampions[0]);\n\t\tsetMessage(\"Which champion is this?\");\n\t};\n\n\tconst setNextHero = () => {\n\t\tconst nextIndex = currentIndex + 1;\n\t\tif (nextIndex >= shuffledChampions.length) {\n\t\t\t// End of the list, stop the game\n\t\t\tstopGame(true); // pass a flag to indicate it's a win/completion\n\t\t} else {\n\t\t\tsetCurrentIndex(nextIndex);\n\t\t\tsetHeroToGuess(shuffledChampions[nextIndex]);\n\t\t}\n\t};\n\n\tconst handleGuess = () => {\n\t\tif (!userGuess || !heroToGuess) return;\n\n\t\tif (userGuess.toLowerCase() === heroToGuess.name.toLowerCase()) {\n\t\t\tsetScore(score + 1);\n\t\t\tsetMessage(`Correct! It was ${heroToGuess.name}. Next one!`);\n\t\t} else {\n\t\t\tsetMessage(`Wrong! That was ${heroToGuess.name}. Try this one!`);\n\t\t}\n\t\tsetUserGuess(\"\");\n\t\tsetNextHero();\n\t};\n\n\tconst stopGame = async (completed = false) => {\n\t\tsetIsPlaying(false);\n\t\tconst finalMessage = completed \n\t\t\t? `Congratulations! You've guessed all champions! Your final score is ${score}.`\n\t\t\t: `Game over! Your final score is ${score}.`;\n\n\t\tsetMessage(`${finalMessage} Saving score to the contract...`);\n\t\t\n\t\ttry {\n\t\t\tawait setValue(score);\n\t\t\tsetMessage(`${finalMessage} Score saved successfully!`);\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to set value on contract\", e);\n\t\t\tsetMessage(\"Could not save your score. See console for details.\");\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<header className=\"header\">\n\t\t\t\t<h1>Champion Guessing Game</h1>\n\t\t\t\t<WalletConnect />\n\t\t\t</header>\n\t\t\t\n\t\t\t<main className=\"main-content\">\n\t\t\t\t<div className=\"game-card\">\n\t\t\t\t\t{!isPlaying ? (\n\t\t\t\t\t<div className=\"game-intro\">\n\t\t\t\t\t\t<h2>Welcome!</h2>\n\t\t\t\t\t\t<p className=\"message\">{message}</p>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tonClick={startGame} \n\t\t\t\t\t\t\tclassName=\"btn btn-start\"\n\t\t\t\t\t\t\tdisabled={!currentAccount}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!currentAccount ? \"Connect Wallet First\" : \"Start Game\"}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"game-active\">\n\t\t\t\t\t\t\t{/* Ensure heroToGuess is not null before rendering */}\n\t\t\t\t\t\t\t{heroToGuess ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className=\"champion-image-container\">\n\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\tsrc={heroToGuess.imageUrl}\n\t\t\t\t\t\t\t\t\t\t\talt=\"Guess the champion\"\n\t\t\t\t\t\t\t\t\t\t\twidth={300}\n\t\t\t\t\t\t\t\t\t\t\theight={300}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"champion-image\"\n\t\t\t\t\t\t\t\t\t\t\tpriority\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<h2 className=\"score\">Score: {score}</h2>\n\t\t\t\t\t\t\t\t\t<p className=\"message\">{message}</p>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div className=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={userGuess}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setUserGuess(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\tonKeyPress={(e) => e.key === \"Enter\" && handleGuess()}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"guess-input\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter champion name...\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<button onClick={handleGuess} className=\"btn btn-guess\">\n\t\t\t\t\t\t\t\t\t\t\tGuess\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<button onClick={() => stopGame(false)} className=\"btn btn-stop\" disabled={isPending || isConfirming}>\n\t\t\t\t\t\t\t\t\t\t{isPending || isConfirming ? \"Saving...\" : \"Stop Game\"}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<p>Loading champion...</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t{(isLoading || isPending || isConfirmed || error) && (\n\t\t\t\t\t<div className=\"contract-status\">\n\t\t\t\t\t\t{isLoading && <p>Processing transaction...</p>}\n\t\t\t\t\t\t{isPending && <p>Transaction is pending...</p>}\n\t\t\t\t\t\t{isConfirming && <p>Transaction is confirming...</p>}\n\t\t\t\t\t\t{isConfirmed && state.hash && (\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tTransaction confirmed! \n\t\t\t\t\t\t\t\t<a \n\t\t\t\t\t\t\t\t\thref={`https://explorer.rebased.iota.org/txblock/${state.hash}?network=devnet`}\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\tstyle={{ marginLeft: '0.5rem', color: '#4CAF50' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tView on Explorer\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{error && <p className=\"error-message\">Error: {error.message || String(error)}</p>}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</main>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}}]
}